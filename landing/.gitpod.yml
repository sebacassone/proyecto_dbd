# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/config-gitpod-file)
# and commit this file to your remote git repository to share the goodness with others.

tasks:
  - name: Install
    init: yarn install
  - name: Build
    init: docker build -t registry.gitlab.com/trq-fundacion/frontend .
  - name: Push
    init: docker push registry.gitlab.com/trq-fundacion/frontend
  - name: Linter
    init: yarn lint
  - name: Test unit
    init: yarn test --coverage
  - name: Licenses
    before: npm install --force
    init: npm install -g license-checker
    command: license-checker --csv
  - name: Start
    init: yarn run build
    command: yarn run start
  - name: Storybook
    init: npm install --legacy-peer-deps
    command: npm run build-storybook -- -o storybook-static
  - name: Styleguidist
    init: npm install --legacy-peer-deps
    command: npx styleguidist build
vscode:
  extensions:
    - dbaeumer.vscode-eslint

# Ports to expose on workspace startup
ports:
  - port: 3000
    onOpen: open-preview
